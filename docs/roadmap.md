# Дорожная карта

## Этап 1: протоколы и планирование

**Задачи**
- Определить набор протоколов и их версии, оформить в виде JSON Schema.
- Подготовить шаблоны протоколов и планировщика экспериментов.
- Согласовать структуру артефактов и маршрутизацию данных по папкам.

**Артефакты**
- Базовые JSON Schema для протоколов (с версионностью и required).
- План эксперимента с привязкой к протоколам.
- Матрица требований к данным/артефактам.

**Definition of Done**
- Все протоколы описаны JSON Schema с версией и required-полями.
- Схемы проходят валидацию.
- План эксперимента фиксирует шаги, входы/выходы и ожидаемые артефакты.

## Этап 2: чек-листы и логирование

**UI задачи**
- Экран чек-листов шагов эксперимента.
- Интеграция с Telegram WebApp компонентами (MainButton/BackButton).
- Отображение статуса шагов и прогресса.

**Backend задачи**
- Модель состояния чек-листов.
- Логирование шагов эксперимента (step, timestamp, status).
- API для чтения/записи статуса чек-листов.

**Definition of Done**
- Чек-листы отображаются и сохраняют состояние.
- Логи фиксируют все шаги с structured-сообщениями.
- UI корректно использует Telegram WebApp элементы и темы.

## Этап 3: загрузки и сводка

**Описание потоков**
- Загрузка изображений и табличных данных с размещением в `images/` и `csv/`.
- Разделение сырых и обработанных артефактов.
- Сводный экран эксперимента с перечнем загруженных файлов и статусов.

**Definition of Done**
- Все загруженные изображения и таблицы сохраняются в нужные директории.
- Сводка показывает актуальные артефакты и их типы.
- Потоки обработки документированы и согласованы с планом эксперимента.

## Этап 4: валидации и отчеты

**Ключевые проверки**
- Валидация данных по JSON Schema протоколов.
- Проверка наличия обязательных артефактов и шагов.
- Сверка форматов файлов и структуры директорий.
- Проверка целостности: соответствие плана, чек-листов и загрузок.
- Генерация отчета о результатах валидации.

## Этап 5: расширение (другие методы)

**Поддержка других методов**
- Добавление новых протоколов с версионностью.
- Миграции схем и адаптация чек-листов.
- Расширение валидаций под новые типы данных.

## Порядок работ и зависимости

1. **Этап 1** — базовый слой: протоколы и планирование.
2. **Этап 2** зависит от этапа 1: чек-листы используют протоколы и план.
3. **Этап 3** зависит от этапов 1–2: загрузки и сводка опираются на чек-листы и план.
4. **Этап 4** зависит от этапов 1–3: валидации и отчеты требуют схем, чек-листов и данных.
5. **Этап 5** зависит от этапов 1–4: расширение возможно после стабилизации базовой цепочки.
